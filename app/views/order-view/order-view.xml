<Page class="page"
      xmlns="http://schemas.nativescript.org/tns.xsd"
      actionBarHidden="true"
      loaded="loaded"
      navigatingTo="navigatingTo"
      class="order-view-page">
    <GridLayout rows="auto, *, auto, auto" class="order-page-overlay">
        <Label text="{{'Hi ' + username + '!'}}" row="0" class="order-label-greeting order-label"/>
        <ScrollView row="1" class="scroll-view">
            <StackLayout row="1">
                <Label text="Choose Size:" class="order-label"/>
                <Repeater items="{{ sizes }}"
                          itemTap="onSelectSize">
                    <Repeater.itemsLayout>
                        <GridLayout columns="*,*,*"
                                    verticalAlignment="top"
                                    class="sizes-stack-layout" />
                    </Repeater.itemsLayout>
                    <Repeater.itemTemplate>
                        <StackLayout class="sizes-item-wrapper" verticalAlignment="bottom" tap="sizeTapped" col="{{index}}">
                            <ContentView class="pizza-image-container"
                                         height="{{displaySize}}"
                                         width="{{displaySize}}">
                                <Label text="{{ price + '$'}}"
                                       class="sizes-price-tag price-tag"
                                       horizontalAlignment="center"
                                       verticalAlignment="top"/>
                            </ContentView>
                            <Label text="{{ name }}" class="sizes-text-description" />
                            <Label class="{{isSelected? 'size-marker-selected' : 'size-marker-unselected'}}"/>
                        </StackLayout>
                    </Repeater.itemTemplate>
                </Repeater>
                <Label text="Choose Toppings:" class="order-label"/>
                <ListView items="{{ toppings }}"
                          itemTap="onSelectTopping">
                    <ListView.itemTemplate>
                        <Image src="{{image}}" class="topping-image" stretch="aspectFit"/>
                    </ListView.itemTemplate>
                </ListView>
                <Label text="Choose Extras:" class="order-label"/>
                <ListView items="{{ extras }}"
                          itemTap="onSelectExtra">
                    <ListView.itemTemplate>
                        <Label text="{{ name }}"/>
                    </ListView.itemTemplate>
                </ListView>
            </StackLayout>
        </ScrollView>
        <Label text="{{orderTotal}}" row="2"/>
        <Button text="place order" row="3" tap="placeOrder"/>
    </GridLayout>
</Page>
